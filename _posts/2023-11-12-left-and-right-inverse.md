---
title: "왼쪽 역함수와 오른쪽 역함수"
categories:
  - Mathematics
tags:
  - Inverse Function
---

어떤 함수의 역함수는, 원래의 함수가 하는 일을 거꾸로 되돌리는 함수이다. 즉 함수 $f$의 역함수를 $g$라고 했을 때, $f(x) = y$라면 $g(y) = x$이며, 이것의 역도 성립한다.

이를 엄밀하게 서술하면 다음과 같다.

> 함수 $f: X \to Y$와 $g: Y \to X$가 있다. 그리고 모든 $x \in X$와 $y \in Y$에 대해, $f(x) = y$와 $g(y) = x$는 필요충분조건이다. 그러면 $g$를 $f$의 역함수라고 한다. (또한 $f$ 역시 $g$의 역함수이다.)

위의 정의를 약간 변형하여 다음과 같이 쓸 수도 있다.

> 함수 $f: X \to Y$와 $g: Y \to X$가 있다. 그리고 모든 $x \in X$에 대해 $g(f(x)) = x$를 만족하고, 모든 $y \in Y$에 대해 $f(g(y)) = y$를 만족한다. 그러면 $g$를 $f$의 역함수라고 한다. (또한 $f$ 역시 $g$의 역함수이다.)

위의 정의를 살펴보면 $g$가 역함수가 되기 위해서는 $g(f(x)) = x$와 $f(g(y)) = y$를 모두 만족해야 한다. 만약 이중 하나만 만족한다면 어떻게 될까? 이럴 경우 일종의 "불완전한" 역함수가 된다.
이 글에서는 이에 해당하는 개념인 왼쪽 역함수(left inverse function)와 오른쪽 역함수(right inverse function)에 대해 알아볼 것이다.

## 왼쪽 역함수

함수 $f: X \to Y$가 있다. 함수 $g: Y \to X$가 모든 $x \in X$에 대해 $g(f(x)) = x$를 만족하면, $g$를 $f$의 **왼쪽 역함수(left inverse function)**라고 한다.

조금 더 간결하게 표현하면, $g \circ f = \mathrm{id}_X$를 만족하는 $g$이다. $\mathrm{id}_X$는 $X$에서 정의된 항등함수이다. 즉 모든 $x \in X$에 대해 $\mathrm{id}_X(x) = x$이다.

### 왼쪽 역함수 예시

$$
f: \mathbb{R}_{\ge 0} \to \mathbb{R}, \quad f(x) = \sqrt{x}, \\
g: \mathbb{R} \to \mathbb{R}_{\ge 0}, \quad g(x) = x^2
$$

로 정의하자.
이때 $g$는 $f$의 왼쪽 역함수이다. 모든 $x \in \mathbb{R}\_{\ge 0}$에 대해 $g(f(x)) = x$이기 때문이다.

### 왼쪽 역함수가 존재하기 위한 필요충분조건

$f$의 왼쪽 역함수 $g$가 존재하기 위한 필요충분조건은 $f$가 단사함수(injective, one-to-one)인 것이다.

직관적으로 생각하면, $y \in Y$를 입력받으면 $f(x) = y$를 만족하는 $x \in X$를 출력하는 것이 왼쪽 역함수 $g$인데, 이러한 $x$가 유일해야 $g$가 함수로써 잘 정의된다. 따라서 $f$는 단사함수여야 한다.

[왼쪽 역함수 예시](#왼쪽-역함수-예시)에서 왼쪽 역함수를 가지는 $f$는 단사함수임을 확인할 수 있다.

### 왼쪽 역함수는 유일하지 않다

일반적으로 왼쪽 역함수는 유일하지 않다. $g$가 왼쪽 역함수가 되기 위해서는 $g(f(x)) = x$를 만족하면 되는데, $f$의 치역에 있지 않은 $y \in Y$, 즉 어떤 $x \in X$에 대해 $f(x) = y$가 아닌 $y$에 대해서는 $g(y)$의 값이 하나로 결정되지 않기 때문이다.

그 예로 [앞의 예시](#왼쪽-역함수-예시)를 가져오자.

$$
f: \mathbb{R}_{\ge 0} \to \mathbb{R}, \quad f(x) = \sqrt{x}
$$

$f$의 왼쪽 역함수 $g$는 $g(f(x)) = x$를 만족해야 하는데, 항상 $f(x) \ge 0$이다. 따라서 $f$의 치역에 포함되지 않는 $y < 0$에 대한 $g(y)$의 값은 상관이 없다. 따라서

$$
g: \mathbb{R} \to \mathbb{R}_{\ge 0}, \quad g(y) = \begin{cases} y^2 & \text{if $y \ge 0$} \\ h(y) & \text{if $y < 0$} \end{cases}
$$

는 함수 $h: \mathbb{R}^{-} \to \mathbb{R}\_{\ge 0}$가 무엇인지는 상관없이 $f$의 왼쪽 역함수이다. 왼쪽 역함수라는 조건으로 값을 하나로 결정할 수 없는 일종의 "사각지대"인 셈이다.

만약 $f$가 전사함수라면 치역이 공역과 같으므로 이러한 사각지대가 사라지게 된다. 따라서 왼쪽 역함수는 유일하게 된다. 후술하겠지만 이 경우 일반 역함수가 된다.

## 오른쪽 역함수

함수 $f: X \to Y$가 있다. 함수 $g: Y \to X$가 모든 $y \in Y$에 대해 $f(g(y)) = y$를 만족하면, $g$를 $f$의 **오른쪽 역함수(right inverse function)**라고 한다.

조금 더 간결하게 표현하면, $f \circ g = \mathrm{id}_Y$를 만족하는 $g$이다.

만약 $f$가 $g$의 왼쪽 역함수라면, $g$는 $f$의 오른쪽 역함수가 된다. 대칭성에 따른 당연한 결과이다.

### 오른쪽 역함수 예시

대칭성에 의해, 왼쪽 역함수의 예시를 뒤집으면 오른쪽 역함수의 예시가 된다. [왼쪽 역함수 예시](#왼쪽-역함수-예시)에서 $f$는 $g$의 오른쪽 역함수이다. 또한 $g$는 전사함수로 오른쪽 역함수를 가질 필요충분조건을 만족함을 확인할 수 있다.

### 오른쪽 역함수가 존재하기 위한 필요충분조건

$f$의 오른쪽 역함수 $g$가 존재하기 위한 필요충분조건은 $f$가 전사함수(surjective, onto)인 것이다. (단 후술하겠지만 이는 선택공리(axiom of choice)가 참이라는 전제 하에 성립한다.)

필요충분조건의 의미를 직관적으로 생각하면 다음과 같다. 우선 모든 $y \in Y$에 대해 $f(g(y)) = y$라는 것은, $f$의 출력값이 $y$가 되는 경우가 있음을 뜻한다. 따라서 $f$의 치역은 모든 $y \in Y$를 포함해야 한다. 따라서 $f$의 치역은 공역 $Y$와 같아야 하므로 전사함수여야 한다. 또한 $f$가 전사함수라면, 임의의 $y \in Y$에 대해 $f(x) = y$를 만족하는 공집합이 아닌 $x \in X$의 집합 $X_y$가 존재하는데, $X_y$에서 $x$를 하나 뽑아 $g(y) = x$로 설정함으로써 오른쪽 역함수 $g$를 만들 수 있다. (이 과정이 선택공리를 필요로 한다.)

#### 선택공리와의 연관성

ZF 공리계에서 이 필요충분조건은 선택공리와 동치인 명제이다. 즉 이 필요충분조건은 선택공리가 참이라는 가정 하에서 유효하며, 선택공리가 거짓일 경우 이것 역시 거짓이 된다. 일반적으로 선택공리는 참으로 여겨지므로 이 필요충분조건도 일반적으로 성립한다.

앞에서 설명한 것처럼 선택공리가 필요한 이유는 $f(x) = y$를 만족하는 $x$의 집합에서 하나를 뽑아 $g$를 구성하기 위함이다. 일반적인 경우에서는 이것을 가능하게 하기 위해서 선택공리가 필요하다. 그러나 간단한 함수의 경우 $x$를 뽑는 과정을 명시적으로 결정할 수 있으며, 이 경우 선택공리에 의존하지 않는다. 다음 문단에 이에 대한 예가 있다.

### 오른쪽 역함수는 유일하지 않다

일반적으로 오른쪽 역함수는 유일하지 않다. 이 역시 앞에서 문제가 되었던 선택 과정과 연관이 있다.

[앞의 예시](#왼쪽-역함수-예시)를 가져오자. 기호의 혼동을 막기 위해 $f$와 $g$의 이름을 바꾸었다.

$$
f: \mathbb{R} \to \mathbb{R}_{\ge 0}, \quad f(x) = x^2
$$

$f$는 전사함수이므로 오른쪽 역함수를 가진다. 이때 모든 $y \in \mathbb{R}\_{\ge 0}$에 대해 $f(x) = y$를 만족하는 집합을 $X_y$라고 하면

$$ X_y = \{ -\sqrt{y}, \sqrt{y} \} $$

이다. 이 $X_y$에서 하나의 $x$를 뽑는 과정은 명시적으로 이루어질 수 있으며, 그 방법도 유일하지 않다. 예를 들어 $X_y$에서 음이 아닌 원소 $\sqrt{y}$를 뽑아 오른쪽 역함수

$$ g: \mathbb{R}_{\ge 0} \to \mathbb{R}, \quad g(y) = \sqrt{y} $$

를 만들 수 있다. 만약 양이 아닌 원소 $-\sqrt{y}$를 뽑는다면 또 다른 오른쪽 역함수인

$$ g: \mathbb{R}_{\ge 0} \to \mathbb{R}, g(y) = -\sqrt{y} $$

를 만들 수 있다. 이 외에도 $g$를 구성하기 위한 방법은 무한히 많다. 조금 더 복잡한 방법으로,

$$ g: \mathbb{R}_{\ge 0} \to \mathbb{R}, g(y) = \begin{cases} \sqrt{y} & \text{if $y \in \mathbb{R}_{\ge 0} \cap \mathbb{Q}$} \\ -\sqrt{y} & \text{if $y \in \mathbb{R}_{\ge 0} \setminus \mathbb{Q}$} \end{cases} $$

가 있다. 유리수와 무리수 여부에 따라 선택할 원소를 결정하는 방식으로, 상당히 병리적인 함수이지만 여전히 $f$의 오른쪽 역함수이다.

만약 $X_y$의 원소가 항상 1개라면 선택의 방법은 하나로 고정되므로 오른쪽 역함수도 유일하다. 이는 임의의 $y \in Y$에 대해 $f(x) = y$를 만족하는 $x \in X$가 유일함을 뜻한다. 즉 $f$가 전단사함수일 경우 오른쪽 역함수는 유일하다. 후술하겠지만 이 경우 일반 역함수가 된다.

## 양쪽 역함수가 모두 존재하는 경우

만약 함수 $f$가 왼쪽 역함수와 오른쪽 역함수를 모두 가진다면, 이 둘은 동일하고 유일하게 존재한다. 이는 $f$의 역함수(inverse function)와 같다.

증명은 다음과 같다. $f$의 왼쪽 역함수와 오른쪽 역함수를 각각 $g_l$, $g_r$이라고 하자. 그러면 모든 $y \in Y$에 대해

$$ g_l(y) = (g_l \circ (f \circ g_r ))(y) = ((g_l \circ f) \circ g_r )(y) = g_r(y) $$

이다. 따라서 $g = g_l = g_r$이다. 따라서 왼쪽 역함수와 오른쪽 역함수는 동일하다.
또한 앞의 문단에서 설명한 것처럼 왼쪽 역함수나 오른쪽 역함수는 $f$가 전단사함수일 경우 유일하다. $f$는 양쪽 역함수를 다 가지므로 단사함수이며 전사함수이다. 따라서 $g$는 유일하다.

$g$는 왼쪽 역함수이면서 오른쪽 역함수이므로, 모든 $x \in X$에 대해 $g(f(x)) = x$이고 모든 $y \in Y$에 대해 $f(g(y)) = y$이다. 따라서 역함수에 정의를 만족하므로 $g$는 $f$의 역함수이다.

역함수가 존재할 필요충분조건 역시 왼쪽 역함수와 오른쪽 역함수의 필요충분조건을 합친, $f$가 전단사함수인 것이다.
단 오른쪽 역함수와는 다르게, 역함수 존재의 필요충분조건은 선택공리와 무관하다. 이에 대한 직관적인 이유는 오른쪽 역함수를 구성하는 방법을 살펴보면 알 수 있다. $f$가 전단사함수이면, $y \in Y$에 대해 $f(x) = y$를 만족하는 집합 $X_y$는 항상 하나의 원소를 갖는다. 따라서 선택공리를 통한 선택 과정이 필요하지 않다.

## 한쪽 역함수가 존재하나 역함수는 존재하지 않는 경우

[왼쪽 역함수 예시](#왼쪽-역함수-예시)를 다시 돌아보자.
이때 $g$는 $f$의 왼쪽 역함수이고, $f$는 $g$의 오른쪽 역함수이다. 모든 $x \in \mathbb{R}\_{\ge 0}$에 대해 $g(f(x)) = x$이기 때문이다.
그러나 $f$와 $g$는 서로 역함수 관계는 아니다. 모든 $y \in \mathbb{R}$에 대해 $f(g(y)) = y$가 성립하지는 않기 때문이다 ($y < 0$인 경우 $f(g(y)) = -y$이다).

만약 $f$의 공역과 $g$의 정의역을 $\mathbb{R}\_{\ge 0}$으로 축소시킨다면 서로 역함수 관계가 된다. 이러면 $f$와 $g$는 모두 전단사함수가 되어 필요충분조건 역시 만족한다.

## 추가 예시

### 유한 차원 선형 변환

행렬로 표현되는 선형 변환의 경우 왼쪽 역함수와 오른쪽 역함수의 개념은 행렬의 rank와 연관이 있다. 다음과 같은 선형 변환 $f$를 생각하자.

$$
f: \mathbb{R}^n \to \mathbb{R}^m, \quad f(\mathbf x) = A\mathbf x
$$

$\mathrm{rank}(A) = n \le m$이라고 하자. 그러면 $A$의 영공간(null space)의 차원은 $n - \mathrm{rank}(A) = 0$이다 (rank-nullity theorem). 따라서 $f$는 단사함수이다. 따라서 $f$는 왼쪽 역함수를 가진다.

$\mathrm{rank}(A) = m \le n$이라고 하자. 그러면 $A$의 열공간(column space)은 $f$의 공역 $\mathbb{R}^m$과 같다. 따라서 $f$는 전사함수이다. 따라서 $f$는 오른쪽 역함수를 가진다.

$\mathrm{rank}(A) = m = n$이라고 하자. 그러면 $f$는 전단사함수이므로 역함수를 가진다. 그리고 (유일한) 역함수는 $A$의 역행렬 $A^{-1}$로 표현되는 선형 변환이다.

$f$가 역함수를 가지는 경우 역함수는 역행렬로 간단히 표현됨은 쉽게 알 수 있지만, 일반적인 왼쪽 또는 오른쪽 역함수는 어떤 형태인지 의문이 들 수 있다.
앞에서 설명한 대로 $f$가 전단사함수가 아니면($n < m$) 왼쪽 역함수는 유일하지 않다. 또한 선형 변환이라는 보장도 없다. 그러나 그 중 선형 변환인 것은 유일하다. 선형인 왼쪽 역함수를 $g(\mathbf x) = B\mathbf x$라고 하면

$$ B = (A^{\mathrm T} A)^{-1} A^{\mathrm{T}} $$

이다.

마찬가지로 $f$가 전단사함수가 아니면($m < n$) 오른쪽 역함수는 유일하지 않고 일반적으로 선형 변환도 아니지만, 선형 변환인 것은 유일하다. 선형인 오른쪽 역함수를 $g(\mathbf x) = B\mathbf x$라고 하면

$$ B = A^{\mathrm T} (A A^{\mathrm T})^{-1} $$

이다.

이 내용은 [Moore–Penrose inverse](https://en.wikipedia.org/wiki/Moore%E2%80%93Penrose_inverse)와 관련이 있다.
위에서 설명한 선형 변환인 왼쪽 역함수와 오른쪽 역함수를 표현하는 행렬은 Moore–Penrose inverse에 해당한다.

## 참고문헌

- <https://en.wikipedia.org/wiki/Inverse_function>
