---
title: "Minesweeper Solving Strategies"
categories:
  - Minesweeper
tags:
  - Minesweeper
---

## Solving Minesweeper

Solving Minesweeper is to determine whether each of remaining covered cells is a mine or not until the game ends.
First of all, we assume that there is a revealed cell.
If every cell is covered, there is nothing to be determined (unless all cells are mines or are safe).

### Consistency of the Board

We define *consistency* of a Minesweeper board.

> A Minesweeper board is said to be **consistent** if there is an assignment of mines to all covered cells that does not contradict current information (numbered cells and flags).

If a board is inconsistent, it means that current information is invalid.
If a board is generated by a Minesweeper game program without bugs, numbered cells must be correct.
Therefore, there must be a wrong flag on a safe cell.

Determining consistency of the Minesweeper board is NP-complete. Roughly speaking, this means that we currently cannot find an efficient algorithm of that.

### Solvablity

Solvability is quite intuitive concept.
However, we are to define some concepts before defining solvability precisely.

#### Immediate Solvability

In this article, we define *immediate solvability* as follows.

> A Minesweeper board is said to be **immediately solvable** if there is a unique assignment of mines to all covered cells that does not contradict current information.

If a board is immediately solvable, it can be solved immediately without any additional information.
In general, a board is not immediately solvable, so a player has to probe covered cells and use new information from them.

Immediate solvability is a stronger condition than consistency.
Immediate solvability means that there is only one assignment, while consistency means that there are at least one assignments.

#### Stuckness

In this article, we define *stuckness* as follows.

> A Minesweeper board is said to be **stuck** if there is no cell that is determined as safe.

If a board is stuck, a player cannot find a safe cell to probe without guessing.
Hence, if a board gets stuck during playing, the board cannot be solved.

#### Solvability

Finally, we define *solvability* of a Minesweeper board.

> A Minesweeper board is said to be **solvable** if the board is not stuck, and after every probing a safe covered cell the board does not get stuck until all safe covered cell are probed.

By negating the definition of solvability, we can also define *unsolvability*.

> A Minesweeper board is said to be **unsolvable** if the board gets stuck before all covered cells are probed.

## Unsolvable boards

It is well known that Minesweeper is not always solvable without guessing unless the generation method guarantees solvability.
There are some boards that are not solvable.
In these cases, a player has to guess a safe cell among covered cells.

The followings are examples of unsolvable boards.

?????????????????????????????????????

### Summarization

The following table classifies the status of boards by the number of possible assignments.

| #possible assignments | Status |
| --- | --- |
| 0 | inconsistent |
| 1 | ?? |
| >2 | unsolvable |

## Solving Path

We can observe the useful fact that helps to analyze Minesweeper.

> If a safe cell is probed, the possibility of solving the game never decreases.

This means that if a player succeed to probe a safe cell, it helps to solve the game or does nothing; it never makes the game harder.
This seems very obvious, but this helps to analyze Minesweeper solving.

## Minesweeper as a CSP

Minesweeper is a kind of constraint satisfaction problems (CSPs).
CSP is a problem to find possible assignments of variables that satisfy specific constraints.

Let $n$ be the number of cells.
Define variables $x_i$ for each $i \in {1, \dots , n}$.
Every $x_i$ have a value $0$ or a value $1$.
If $x_i = 0$, it means that i-th cell is a safe.
On the other hand, if $x_i = 1$, i-th cell is a mine.
